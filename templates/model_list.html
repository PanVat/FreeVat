{% extends "base/base.html" %}
<!-- Načtení potřebných knihoven -->
{% load i18n static %}

{% block content %}
    <!-- Celá stránka s modely -->
    <div class="models-full-page">
        <!-- Nadpis a řazení modelů podle různých kritérií -->
        <div class="models-sort-container">

            <!-- Nadpis kategorie nebo všechny modely -->
            <h1 class="models-category-title">
                {% if current_category %}
                    {{ current_category.name }}
                {% else %}
                    {% trans "All models" %}
                {% endif %}
            </h1>


            <!-- Dropdown pro řazení modelů -->
            <div class="models-sort-dropdown group">

                <!-- Štítek "Seřadit" nad dropdownem -->
                <div class="models-sort-label">
                    {% trans "Sort by" %}
                </div>

                <!-- Tlačítko pro otevření dropdownu -->
                <button class="models-dropdown-button">

                    <!-- Aktuální vybrané řazení -->
                    <span class="truncate">
                    {% if current_sort == 'newest' %}{% trans "Newest" %}
                        {% elif current_sort == 'oldest' %}{% trans "Oldest" %}
                        {% elif current_sort == 'name_asc' %}{% trans "Name (A-Z)" %}
                        {% elif current_sort == 'name_desc' %}{% trans "Name (Z-A)" %}
                    {% else %}{% trans "Select..." %}{% endif %}
                    </span>

                </button>

                <!-- Dropdown menu s možnostmi řazení -->
                <div class="models-dropdown-menu">
                    <div class="py-1">
                        <!-- Nejnovější modely -->
                        <a href="?sort=newest"
                           class="models-dropdown-item">
                            {% trans "Newest" %}
                        </a>
                        <!-- Nejstarší modely -->
                        <a href="?sort=oldest"
                           class="models-dropdown-item">
                            {% trans "Oldest" %}
                        </a>
                        <!-- Abecední řazení A-Z -->
                        <a href="?sort=name_asc"
                           class="models-dropdown-item">
                            {% trans "Name (A-Z)" %}
                        </a>
                        <!-- Abecední řazení Z-A -->
                        <a href="?sort=name_desc"
                           class="models-dropdown-item">
                            {% trans "Name (Z-A)" %}
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Náhledová okna 3D modelů -->
        <div class="models-preview-cards">
            {% for model in models %}
                <!-- Jednotlivé okno s odkazem na detail modelu -->
                {% include 'models/partials/model_box.html' with similar=model %}
                <!-- Zpráva, že nebyly nalezeny žádné modely v dané kategorii -->
                {% empty %}
                <div class="models-no-results">
                    <p class="text-xl">{% trans 'No models found in this category.' %}</p>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}