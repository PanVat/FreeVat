{% extends "base/base.html" %}
{% load i18n static %}

{% block title %}{% trans 'My Models' %}{% endblock %}

{% block content %}
    <div class="models-full-page">
        <div class="models-sort-container">
            <h1 class="models-category-title">
                {% trans "My Uploaded Models" %}
            </h1>

            <a href="{% url 'upload' %}"
               class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold py-2 px-4 rounded transition-all">
                <i class="fas fa-plus mr-2"></i> {% trans "Upload New" %}
            </a>
        </div>

        <div class="models-preview-cards">
            {% for user_model in models %}
                <div class="flex flex-col">
                    <div class="flex-grow">
                        {% include 'models/partials/model_box.html' with similar=user_model %}
                    </div>

                    <div class="flex border-x border-b border-[#404040] bg-[#252525] rounded-b-md overflow-hidden">
                        <a href="{% url 'edit_model' user_model.pk %}"
                           class="flex-1 py-2 text-center text-xs font-bold text-blue-400 hover:bg-[#3B4042] transition-colors border-r border-[#404040]">
                            <i class="fas fa-edit mr-1"></i> {% trans "EDIT" %}
                        </a>

                        <form action="{% url 'delete_model' user_model.pk %}" method="post" class="flex-1"
                              onsubmit="return confirm('{% trans "Are you sure you want to delete this model?" %}');">
                            {% csrf_token %}
                            <button type="submit"
                                    class="w-full py-2 text-center text-xs font-bold text-red-500 hover:bg-[#3B4042] transition-colors">
                                <i class="fas fa-trash-alt mr-1"></i> {% trans "DELETE" %}
                            </button>
                        </form>
                    </div>
                </div>
                {% empty %}
                <div class="models-no-results">
                    <p class="text-xl">{% trans 'You have not uploaded any models yet.' %}</p>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}